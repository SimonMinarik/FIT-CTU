{"paragraphs":[{"text":"%md\n## Apache Spark - DataFrame/DataSet API - základní syntax a práce s daty\n\n### Spark 2.3.4\n* DataFrame: https://spark.apache.org/docs/2.3.4/sql-programming-guide.html\n* RDD:\n    * https://spark.apache.org/docs/2.3.4/rdd-programming-guide.html\n    * příklady: https://wikis.nyu.edu/display/NYUHPC/Big+Data+Tutorial+3%3A+Introduction+to+Spark\n\n### Scala\n* guide: https://www.analyticsvidhya.com/blog/2017/01/scala/\n\n### datové zdroje:\n* http://opendata.praha.eu/\n   * chytry svoz odpadu - historie zaplnitelnosti: http://opendata.praha.eu/dataset/chytry-svoz-odpadu-historicka-data-zaplnenosti\n   * chytry svoz odpadu  - svozy kontejnerů na tříděný odpad: http://opendata.praha.eu/dataset/chytry-svoz-odpadu-svozy-kontejneru-na-trideny-odpad\n   \n### hodí se\n* `df.printSchema()` - vypíše názvy a typy sloupců\n* `df.show(X)`- zobrazí X počet řádků z datasetu, nezáleží na pořadí, nevyvolává action trigger\n* `df.show(false)`- nezkracuje data v zobrazených sloupcích\n\n|| Zeppelin creates and injects sc (SparkContext) and sqlContext (HiveContext or SqlContext)","user":"anonymous","dateUpdated":"2020-10-28T20:44:16+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Apache Spark - DataFrame/DataSet API - základní syntax a práce s daty</h2>\n<h3>Spark 2.3.4</h3>\n<ul>\n  <li>DataFrame: <a href=\"https://spark.apache.org/docs/2.3.4/sql-programming-guide.html\">https://spark.apache.org/docs/2.3.4/sql-programming-guide.html</a></li>\n  <li>RDD:\n    <ul>\n      <li><a href=\"https://spark.apache.org/docs/2.3.4/rdd-programming-guide.html\">https://spark.apache.org/docs/2.3.4/rdd-programming-guide.html</a></li>\n      <li>příklady: <a href=\"https://wikis.nyu.edu/display/NYUHPC/Big+Data+Tutorial+3%3A+Introduction+to+Spark\">https://wikis.nyu.edu/display/NYUHPC/Big+Data+Tutorial+3%3A+Introduction+to+Spark</a></li>\n    </ul>\n  </li>\n</ul>\n<h3>Scala</h3>\n<ul>\n  <li>guide: <a href=\"https://www.analyticsvidhya.com/blog/2017/01/scala/\">https://www.analyticsvidhya.com/blog/2017/01/scala/</a></li>\n</ul>\n<h3>datové zdroje:</h3>\n<ul>\n  <li><a href=\"http://opendata.praha.eu/\">http://opendata.praha.eu/</a></li>\n  <li>chytry svoz odpadu - historie zaplnitelnosti: <a href=\"http://opendata.praha.eu/dataset/chytry-svoz-odpadu-historicka-data-zaplnenosti\">http://opendata.praha.eu/dataset/chytry-svoz-odpadu-historicka-data-zaplnenosti</a></li>\n  <li>chytry svoz odpadu - svozy kontejnerů na tříděný odpad: <a href=\"http://opendata.praha.eu/dataset/chytry-svoz-odpadu-svozy-kontejneru-na-trideny-odpad\">http://opendata.praha.eu/dataset/chytry-svoz-odpadu-svozy-kontejneru-na-trideny-odpad</a></li>\n</ul>\n<h3>hodí se</h3>\n<ul>\n  <li><code>df.printSchema()</code> - vypíše názvy a typy sloupců</li>\n  <li><code>df.show(X)</code>- zobrazí X počet řádků z datasetu, nezáleží na pořadí, nevyvolává action trigger</li>\n  <li><code>df.show(false)</code>- nezkracuje data v zobrazených sloupcích</li>\n</ul>\n<p>|| Zeppelin creates and injects sc (SparkContext) and sqlContext (HiveContext or SqlContext)</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1603917369843_743165456","id":"20191028-093724_2122815264","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:44:16+0000","dateFinished":"2020-10-28T20:44:16+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:50741"},{"text":"%md\n## READ\n* **read** (csv, parquet, avro, textfile, ...)\n* **toDF** (RDD parralelize)\n* IOUtils","user":"anonymous","dateUpdated":"2020-10-28T20:44:16+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>READ</h2>\n<ul>\n  <li><strong>read</strong> (csv, parquet, avro, textfile, &hellip;)</li>\n  <li><strong>toDF</strong> (RDD parralelize)</li>\n  <li>IOUtils</li>\n</ul>\n</div>"}]},"apps":[],"jobName":"paragraph_1603917369847_-797239835","id":"20191028-114904_943505836","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:44:17+0000","dateFinished":"2020-10-28T20:44:17+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50742"},{"text":"// z kolekce","user":"anonymous","dateUpdated":"2020-10-28T20:44:17+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369848_984197738","id":"20191028-115012_113346922","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:44:18+0000","dateFinished":"2020-10-28T20:44:20+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50743"},{"text":"// ze souboru","user":"anonymous","dateUpdated":"2020-10-28T20:44:20+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369849_-1196058464","id":"20191030-211222_1563982174","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:44:21+0000","dateFinished":"2020-10-28T20:44:23+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50744"},{"text":"// sql api","user":"anonymous","dateUpdated":"2020-10-28T20:44:23+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369849_-59685901","id":"20191030-211235_2135952511","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:44:23+0000","dateFinished":"2020-10-28T20:44:25+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50745"},{"text":"// do objektu","user":"anonymous","dateUpdated":"2020-10-28T20:44:25+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369852_-288796553","id":"20201026-111516_1515762308","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:44:26+0000","dateFinished":"2020-10-28T20:44:29+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50746"},{"text":"%md\n## NARROW transformace\n\nTransformace, které nevyvolávají shuffle (přenos dat po síti), lazy evaulation.\n\n* select\n* map(withColumn)\n* distinct\n* drop\n* filter\n* union","user":"anonymous","dateUpdated":"2020-10-28T20:44:29+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>NARROW transformace</h2>\n<p>Transformace, které nevyvolávají shuffle (přenos dat po síti), lazy evaulation.</p>\n<ul>\n  <li>select</li>\n  <li>map(withColumn)</li>\n  <li>distinct</li>\n  <li>drop</li>\n  <li>filter</li>\n  <li>union</li>\n</ul>\n</div>"}]},"apps":[],"jobName":"paragraph_1603917369879_838378079","id":"20191028-111633_1032845225","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:44:29+0000","dateFinished":"2020-10-28T20:44:29+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50747"},{"text":"// distinct: jaké můžou být minfilllevely?","user":"anonymous","dateUpdated":"2020-10-28T20:44:29+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369880_1510945375","id":"20191030-211851_1062687587","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:44:30+0000","dateFinished":"2020-10-28T20:44:33+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50748"},{"text":"\n// withColumn - přidá sloupec, (jméno sloupce, transformační funkce)","user":"anonymous","dateUpdated":"2020-10-28T20:44:33+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369880_1848603877","id":"20191030-211900_694541464","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:44:33+0000","dateFinished":"2020-10-28T20:44:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50749"},{"text":"// select: projekce","user":"anonymous","dateUpdated":"2020-10-28T20:44:35+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369884_-1256781931","id":"20191030-211906_475996892","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:44:36+0000","dateFinished":"2020-10-28T20:44:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50750"},{"text":"// select: projekce + transformace","user":"anonymous","dateUpdated":"2020-10-28T20:44:38+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369894_-1054136160","id":"20191030-211912_606010960","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:44:38+0000","dateFinished":"2020-10-28T20:44:41+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50751"},{"text":"// filter: ktere kontejnery byly vyneseny skoro nebo zcela plne","user":"anonymous","dateUpdated":"2020-10-28T20:44:41+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369896_223440715","id":"20191030-211916_87406017","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:44:41+0000","dateFinished":"2020-10-28T20:44:43+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50752"},{"text":"%md\ntest syntaxe","user":"anonymous","dateUpdated":"2020-10-28T20:44:44+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>test syntaxe</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1603917369897_-1155701405","id":"20191030-211945_1969347252","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:44:44+0000","dateFinished":"2020-10-28T20:44:44+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50753"},{"text":"// co je správně?","user":"anonymous","dateUpdated":"2020-10-28T20:44:44+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369898_-944559208","id":"20191030-212008_196517327","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:44:45+0000","dateFinished":"2020-10-28T20:44:47+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50754"},{"text":"%md\n### Explode vs split","user":"anonymous","dateUpdated":"2020-10-28T20:44:47+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Explode vs split</h3>\n</div>"}]},"apps":[],"jobName":"paragraph_1603917369898_1574730548","id":"20191030-212032_1663539844","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:44:47+0000","dateFinished":"2020-10-28T20:44:47+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50755"},{"text":"// explode\n\n// split","user":"anonymous","dateUpdated":"2020-10-28T20:44:47+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369899_1572904525","id":"20191028-125434_1254572877","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:44:48+0000","dateFinished":"2020-10-28T20:44:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50756"},{"text":"%md\nPříklad Chytrý odpad Prahy pokračování II.","user":"anonymous","dateUpdated":"2020-10-28T20:44:51+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>Příklad Chytrý odpad Prahy pokračování II.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1603917369899_-824892683","id":"20191030-213415_638034405","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:44:52+0000","dateFinished":"2020-10-28T20:44:52+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50757"},{"text":"// nacteni datasetu szn2018122019Q3\n\n// UNION\n\n// UNION 2","user":"anonymous","dateUpdated":"2020-10-28T20:44:52+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369900_-590467182","id":"20191028-095432_287439436","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:44:53+0000","dateFinished":"2020-10-28T20:44:55+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50758"},{"text":"%md\n## AKCE\n* take\n* collect\n* save","user":"anonymous","dateUpdated":"2020-10-28T20:44:55+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>AKCE</h2>\n<ul>\n  <li>take</li>\n  <li>collect</li>\n  <li>save</li>\n</ul>\n</div>"}]},"apps":[],"jobName":"paragraph_1603917369900_263537467","id":"20191028-111952_432182074","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:44:55+0000","dateFinished":"2020-10-28T20:44:56+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50759"},{"text":"// take \n\n// collect\n","user":"anonymous","dateUpdated":"2020-10-28T20:44:56+0000","config":{"tableHide":false,"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369900_1794861328","id":"20191028-112010_1454345083","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:44:56+0000","dateFinished":"2020-10-28T20:44:59+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50760"},{"text":"%md\n#### save, write","user":"anonymous","dateUpdated":"2020-10-28T20:44:59+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>save, write</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1603917369901_-455791701","id":"20191030-214323_1316235795","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:45:00+0000","dateFinished":"2020-10-28T20:45:00+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50761"},{"text":"// save, write","user":"anonymous","dateUpdated":"2020-10-28T20:45:00+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369902_-395390553","id":"20191030-093430_928791391","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:45:00+0000","dateFinished":"2020-10-28T20:45:03+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50762"},{"text":"%md\n#### parition, repartition, coalesce","user":"anonymous","dateUpdated":"2020-10-28T20:45:03+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>parition, repartition, coalesce</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1603917369902_-183954007","id":"20191030-214558_1163619330","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:45:03+0000","dateFinished":"2020-10-28T20:45:03+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50763"},{"text":"// repartition, coalesce","user":"anonymous","dateUpdated":"2020-10-28T20:45:03+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369903_-1577745971","id":"20191030-095931_1072339765","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:45:05+0000","dateFinished":"2020-10-28T20:45:10+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50764"},{"text":"%md\n## Akce COUNT","user":"anonymous","dateUpdated":"2020-10-28T20:45:10+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Akce COUNT</h2>\n</div>"}]},"apps":[],"jobName":"paragraph_1603917369903_771548055","id":"20191030-091622_1882214640","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:45:12+0000","dateFinished":"2020-10-28T20:45:12+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50765"},{"text":"// kolik?\n// szn2019q4\n// szn2018122019Q3_3\n//szn","user":"anonymous","dateUpdated":"2020-10-28T20:45:12+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369904_-678349985","id":"20191030-142151_1810364974","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:45:13+0000","dateFinished":"2020-10-28T20:45:16+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50766"},{"text":"%md\n## transformace distinct, aggregační fce","user":"anonymous","dateUpdated":"2020-10-28T20:45:16+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>transformace distinct, aggregační fce</h2>\n</div>"}]},"apps":[],"jobName":"paragraph_1603917369904_-1428537191","id":"20191030-142121_923055742","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:45:17+0000","dateFinished":"2020-10-28T20:45:17+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50767"},{"text":"// informace o datsetu:\n\n// kolik mám záznamů?\n","user":"anonymous","dateUpdated":"2020-10-28T20:45:18+0000","config":{"tableHide":false,"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369904_-1707103357","id":"20191028-103959_1146384647","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:45:18+0000","dateFinished":"2020-10-28T20:45:21+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50768"},{"text":"// select + min,max avg","user":"anonymous","dateUpdated":"2020-10-28T20:45:21+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369905_1928808383","id":"20201026-142502_875776403","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:45:23+0000","dateFinished":"2020-10-28T20:45:26+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50769"},{"text":"// kolik unikátních odpadových kontejnerů máme\n","user":"anonymous","dateUpdated":"2020-10-28T20:45:26+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369907_-2097412912","id":"20191030-215651_294708759","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:45:27+0000","dateFinished":"2020-10-28T20:45:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50770"},{"text":"// jaká je nevyšší/nejnižší zaplněnost","user":"anonymous","dateUpdated":"2020-10-28T20:45:30+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369907_-1202957543","id":"20191030-215657_1439772859","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:45:31+0000","dateFinished":"2020-10-28T20:45:36+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50771"},{"text":"// jaká je průměrná zaplněnost před a po (percent_before, percent_now)","user":"anonymous","dateUpdated":"2020-10-28T20:45:36+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369907_227250604","id":"20191030-215702_585800810","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:45:37+0000","dateFinished":"2020-10-28T20:45:47+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50772"},{"text":"// jaké mám různé id konetjnerů","user":"anonymous","dateUpdated":"2020-10-28T20:45:47+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369909_-928210780","id":"20191030-215707_1796162930","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:45:48+0000","dateFinished":"2020-10-28T20:45:53+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50773"},{"text":"// kolik je kontejnerů","user":"anonymous","dateUpdated":"2020-10-28T20:45:53+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369909_-2125952401","id":"20191030-215713_698650380","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:45:53+0000","dateFinished":"2020-10-28T20:45:58+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50774"},{"text":"// co to je min fill level, jakých hodnot nabývají","user":"anonymous","dateUpdated":"2020-10-28T20:45:58+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369910_-199792117","id":"20191030-215724_683130023","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:45:59+0000","dateFinished":"2020-10-28T20:46:02+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50775"},{"text":"// jaké jsou různé kódové označení a kolik jich je","user":"anonymous","dateUpdated":"2020-10-28T20:46:03+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369910_-1815489658","id":"20191030-215730_193591923","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:46:03+0000","dateFinished":"2020-10-28T20:46:06+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50776"},{"text":"// může být položka sloupce event_driven null?","user":"anonymous","dateUpdated":"2020-10-28T20:46:06+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369911_-632676595","id":"20191030-215735_600846014","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:46:07+0000","dateFinished":"2020-10-28T20:46:10+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50777"},{"text":"%md\n## groupBy, groupBy + aggregace","user":"anonymous","dateUpdated":"2020-10-28T20:46:10+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>groupBy, groupBy + aggregace</h2>\n</div>"}]},"apps":[],"jobName":"paragraph_1603917369911_1076210158","id":"20191028-114108_1299416038","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:46:10+0000","dateFinished":"2020-10-28T20:46:10+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50778"},{"text":"// kolikrát byl který kontejner vysypán v únoru 2019?","user":"anonymous","dateUpdated":"2020-10-28T20:46:10+0000","config":{"tableHide":false,"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369912_551981528","id":"20191028-110645_1932819943","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:46:11+0000","dateFinished":"2020-10-28T20:46:13+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50779"},{"text":"// kdy byl kontejner vysypán","user":"anonymous","dateUpdated":"2020-10-28T20:46:13+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369913_-619504215","id":"20191030-215748_1399899243","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:46:15+0000","dateFinished":"2020-10-28T20:46:19+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50780"},{"text":"// groupby + aggregace\n\n// jaký je průmerný počet vysypání kontejnerů v jednotlivých letech","user":"anonymous","dateUpdated":"2020-10-28T20:46:19+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369914_252619294","id":"20191028-123800_1146633843","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:46:20+0000","dateFinished":"2020-10-28T20:46:22+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50781"},{"text":"// kolik existuje záznamů pro každý container?","user":"anonymous","dateUpdated":"2020-10-28T20:46:22+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369915_335110034","id":"20191030-215753_606454683","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:46:23+0000","dateFinished":"2020-10-28T20:46:25+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50782"},{"text":"%md\n### Agregace","user":"anonymous","dateUpdated":"2020-10-28T20:46:25+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Agregace</h3>\n</div>"}]},"apps":[],"jobName":"paragraph_1603917369915_-568878908","id":"20201026-152729_1697490933","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:46:25+0000","dateFinished":"2020-10-28T20:46:26+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50783"},{"text":"// agregegace - agg\n","user":"anonymous","dateUpdated":"2020-10-28T20:46:26+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369916_1847367933","id":"20201026-151604_54540515","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:46:26+0000","dateFinished":"2020-10-28T20:46:29+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50784"},{"text":"%md\n### JOINY","user":"anonymous","dateUpdated":"2020-10-28T20:46:29+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>JOINY</h3>\n</div>"}]},"apps":[],"jobName":"paragraph_1603917369917_1219060896","id":"20191028-133352_2120525987","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:46:30+0000","dateFinished":"2020-10-28T20:46:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50785"},{"text":"import spark.implicits._\n\nval left = Seq((1, \"A1\"), (2, \"A2\"), (3, \"A3\"), (4, \"A4\")).toDF(\"id\", \"value\")\nval right = Seq((3, \"A3\"), (4, \"A4\"), (4, \"A4_1\"), (5, \"A5\"), (6, \"A6\")).toDF(\"id\", \"value\")\n\nprintln(\"LEFT\")\nleft.orderBy(\"id\").show()\n\nprintln(\"RIGHT\")\nright.orderBy(\"id\").show()\n","user":"anonymous","dateUpdated":"2020-10-28T20:46:30+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1603917369917_1450016609","id":"20201026-155300_746402384","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:46:30+0000","dateFinished":"2020-10-28T20:46:48+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50786","errorMessage":""},{"text":"// inner\nprint(\"inner\")\nleft.join(right, usingColumns = Seq(\"id\"), joinType = \"inner\").orderBy(\"id\").show()\n// outer\nprint(\"outer\")\nleft.join(right, usingColumns = Seq(\"id\"), joinType = \"outer\").orderBy(\"id\").show()\n// full\nprint(\"full\")\nleft.join(right, usingColumns = Seq(\"id\"), joinType = \"full\").orderBy(\"id\").show()\n// left\nprint(\"left\")\nleft.join(right, usingColumns = Seq(\"id\"), joinType = \"left\").orderBy(\"id\").show()\n// right\nprint(\"right\")\nleft.join(right, usingColumns = Seq(\"id\"), joinType = \"right\").orderBy(\"id\").show()\n// left_outer\nprint(\"left_outer\")\nleft.join(right, usingColumns = Seq(\"id\"), joinType = \"left_outer\").orderBy(\"id\").show()\n// right_outer\nprint(\"right_outer\")\nleft.join(right, usingColumns = Seq(\"id\"), joinType = \"right_outer\").orderBy(\"id\").show()\n// left_semi\nprint(\"left_semi\")\nleft.join(right, usingColumns = Seq(\"id\"), joinType = \"left_semi\").orderBy(\"id\").show()\n// left_anti\nprint(\"left_anti\")\nleft.join(right, usingColumns = Seq(\"id\"), joinType = \"left_anti\").orderBy(\"id\").show()","user":"anonymous","dateUpdated":"2020-10-28T20:46:48+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1603917369917_601694582","id":"20201026-155314_14351224","dateCreated":"2020-10-28T20:36:09+0000","dateStarted":"2020-10-28T20:46:48+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:50787","dateFinished":"2020-10-28T20:47:20+0000"},{"text":"%md\n### pokračování příkladu Chytrý odpad Prahy\ndata: http://opendata.praha.eu/dataset/chytry-svoz-odpadu-historicka-data-zaplnenosti","user":"anonymous","dateUpdated":"2020-10-28T20:47:20+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>pokračování příkladu Chytrý odpad Prahy</h3>\n<p>data: <a href=\"http://opendata.praha.eu/dataset/chytry-svoz-odpadu-historicka-data-zaplnenosti\">http://opendata.praha.eu/dataset/chytry-svoz-odpadu-historicka-data-zaplnenosti</a></p>\n</div>"}]},"apps":[],"jobName":"paragraph_1603917369918_-1039304727","id":"20191030-115134_226116120","dateCreated":"2020-10-28T20:36:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50788","dateFinished":"2020-10-28T20:47:21+0000","dateStarted":"2020-10-28T20:47:21+0000"},{"text":"// načíst a spojit data","user":"anonymous","dateUpdated":"2020-10-28T20:47:21+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369919_-892649256","id":"20191030-115847_185262742","dateCreated":"2020-10-28T20:36:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50789","dateFinished":"2020-10-28T20:47:24+0000","dateStarted":"2020-10-28T20:47:21+0000"},{"text":"%md\nbroadcast join","user":"anonymous","dateUpdated":"2020-10-28T20:47:24+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>broadcast join</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1603917727368_1556289209","id":"20201028-204207_233041339","dateCreated":"2020-10-28T20:42:07+0000","dateStarted":"2020-10-28T20:47:25+0000","dateFinished":"2020-10-28T20:47:25+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50790"},{"text":"// broadcast join","user":"anonymous","dateUpdated":"2020-10-28T20:47:25+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369921_-1228972294","id":"20201026-161843_1170067164","dateCreated":"2020-10-28T20:36:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50791","dateFinished":"2020-10-28T20:47:28+0000","dateStarted":"2020-10-28T20:47:25+0000"},{"text":"%md\n### UDF\n#### User Defined Function\nSpark API má spoustu \"předpřipravených\" funkcí, pokud ale chceme nějakou speciální transformaci, tak musíme napsat vlastní udf.\n","user":"anonymous","dateUpdated":"2020-10-28T20:47:28+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>UDF</h3>\n<h4>User Defined Function</h4>\n<p>Spark API má spoustu &ldquo;předpřipravených&rdquo; funkcí, pokud ale chceme nějakou speciální transformaci, tak musíme napsat vlastní udf.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1603917369921_327323746","id":"20191028-140217_133811049","dateCreated":"2020-10-28T20:36:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50792","dateFinished":"2020-10-28T20:47:29+0000","dateStarted":"2020-10-28T20:47:29+0000"},{"text":"val nadoba30039 = shjoin3.filter($\"container_id\" === 30039).select(\"event_date\",\"container_id\",\"percent_calculated\",\"temperature\",\"battery_status\",\"measured_at_utc\",\"pick_at_utc\",\"percent_before\",\"percent_now\")\n","user":"anonymous","dateUpdated":"2020-10-28T20:47:29+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1603917369922_-869692961","id":"20201026-163311_1722671428","dateCreated":"2020-10-28T20:36:09+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:50793","dateFinished":"2020-10-28T20:47:35+0000","dateStarted":"2020-10-28T20:47:30+0000"},{"text":"// jak vypadá UDF, jak se píše\n\n// udf pro human readable informace o teplote\n\n// udf pro měření zaplněnosti\n\n// udf, která mi říká jestli se obě události staly v jeden den","user":"anonymous","dateUpdated":"2020-10-28T20:47:35+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369924_1400450801","id":"20191030-115902_1039665396","dateCreated":"2020-10-28T20:36:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50794","dateFinished":"2020-10-28T20:47:40+0000","dateStarted":"2020-10-28T20:47:35+0000"},{"text":"// moje informace navic","user":"anonymous","dateUpdated":"2020-10-28T20:47:40+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369925_-1472067580","id":"20201026-170724_1309382213","dateCreated":"2020-10-28T20:36:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50795","dateFinished":"2020-10-28T20:47:44+0000","dateStarted":"2020-10-28T20:47:41+0000"},{"text":"// zjistit informace o kontejneru 30039\n\n// napište si vlastní udf na:\n\n// 1) ke každé události přiřaďte název měsíce (leden, únor,...)\n// 2) k události měření teploty připište ok, not_ok podle toho jestli byla teplota pod/nad 10°C","user":"anonymous","dateUpdated":"2020-10-28T20:47:44+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369926_-2134622151","id":"20191028-135404_319133906","dateCreated":"2020-10-28T20:36:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50796","dateFinished":"2020-10-28T20:47:48+0000","dateStarted":"2020-10-28T20:47:45+0000"},{"text":"%md\n### Vizualizace v notebooku","user":"anonymous","dateUpdated":"2020-10-28T20:47:48+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Vizualizace v notebooku</h3>\n</div>"}]},"apps":[],"jobName":"paragraph_1603917369926_-571228972","id":"20201028-191039_1312077939","dateCreated":"2020-10-28T20:36:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50797","dateFinished":"2020-10-28T20:47:49+0000","dateStarted":"2020-10-28T20:47:49+0000"},{"text":"// pouzijte dataset agg1","user":"anonymous","dateUpdated":"2020-10-28T20:47:49+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1603917369927_-1552074173","id":"20201028-191058_1140168360","dateCreated":"2020-10-28T20:36:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50798","dateFinished":"2020-10-28T20:47:53+0000","dateStarted":"2020-10-28T20:47:50+0000"},{"text":"%md\n### RDD\nResilient distributed dataset\nPříklad mapreduce s RDD, pro ukázku jak se dá udělat word count a jak z RDD pomocí toDF() udělat dataframe.","user":"anonymous","dateUpdated":"2020-10-28T20:47:53+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>RDD</h3>\n<p>Resilient distributed dataset<br/>Příklad mapreduce s RDD, pro ukázku jak se dá udělat word count a jak z RDD pomocí toDF() udělat dataframe.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1603917369928_1314162176","id":"20191030-220319_1859129519","dateCreated":"2020-10-28T20:36:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:50799","dateFinished":"2020-10-28T20:47:54+0000","dateStarted":"2020-10-28T20:47:54+0000"},{"text":"// mapreduce priklad (reduceByKey je wide transformace)\nval textFile = sc.textFile(\"TODO sem si dosad nejaky textovy soubor, ktery si zkopirujes do slozky work\")\nval counts = textFile.flatMap(line => line.split(\";|:\"))\n                 .map(word => (word, 1))\n                 .reduceByKey(_ + _)\ncounts.toDF().show()\n","user":"anonymous","dateUpdated":"2020-10-28T20:47:54+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1603917369928_-39420939","id":"20201028-130833_629816541","dateCreated":"2020-10-28T20:36:09+0000","status":"ERROR","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:50800","dateFinished":"2020-10-28T20:48:08+0000","dateStarted":"2020-10-28T20:47:54+0000"},{"user":"anonymous","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1603918074360_-1887299419","id":"20201028-204754_1314635094","dateCreated":"2020-10-28T20:47:54+0000","status":"READY","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:55541"}],"name":"spark-cviceni-workbook","id":"2FQQ8YSYF","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"spark:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}